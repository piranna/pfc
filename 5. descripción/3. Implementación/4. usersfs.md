### usersfs

La ultima capa del sistema corresponde a la generacion de la particion de los
usuarios. No tiene una repercusion directa en el funcionamiento del sistema,
sino que su funcionalidad es principalmente para hospedar un usuario de ejemplo
y mostrar como se crearia una particion de usuarios real para un entorno de
produccion. Por tal motivo solo contiene dos usuarios, *root* y *nodeos*.

El metodo para generar ambos usuarios es el mismo, consistente en la creacion de
su directorio de usuario y despues la instalacion de los paquetes definidos en
un archivo de texto usando npm. La instalacion se hace global dentro del propio
directorio y configurada de tal forma que use el cross-toolchain antes generado,
y despues se hace un link simbolico al ejecutable que debe actuar como *init* de
dicho usuario.

Para generar la imagen de particion se emplea el comando *genext2fs*, indicando
que se genere el sistema de archivos Ext2 con un tama単o de bloque de 1024 bytes
y un ratio de 4KB por inodo (por defecto *genext2fs* genera el menor numero de
inodos necesario para hospedar el sistema de archivos a crear, lo cual solo es
util mayormente en sistemas de solo-lectura para reducir su tama単o), siendo
estos los valores usados por defecto en entornos de escritorio habitualmente y
que ofrecen una buena relaccion de espacio consumido para metadatos respecto a
los propios datos en condiciones normales. Despues se activa manualmente en
dicho sistema de archivos el soporte para journaling para aumentar la integridad
de los datos mediante el comando *tune2fs*.

Para aumentar la seguridad del sistema operativo, el sistema de archivos de los
usuarios se crea con la opcion *squash* la cual elimina asigna todos los
archivos al UID y GID ```0``` (generalmente asociados al usuario administrador)
y sus permisos de forma que solo puedan ser accedidos por el propietario de
estos. Puesto que el UID y GID del directorio de usuario son usados para
identificar al usuario y posteriormente definir los permisos de la jaula
*chroot* donde se ejecutara este, despues se utiliza un script que hace uso de
la utilidad *debugfs* para poder cambiar el UID y GID de los archivos
correspondientes al usuario *nodeos* sin necesitar permisos de administrador al
poder hacerlo directamente sobre la imagen de particion.

#### root

El usuario *root* es el encargado de gestionar el arranque del sistema y los
servicios globales de este, y por tanto tambien es el unico con permisos de
administrador. Actualmente, su unica funcionalidad es inicializar un
pseudo-terminal donde el usuario de demo *nodeos* pueda acceder al sistema.

Este usuario no es necesario

##### forever starter

##### node-bin-getty

El pseudo-terminal ```/dev/console``` es inicializado por el modulo
[node-bin-getty](https://github.com/netlovers/node-bin-getty) y despues lo usa
como entrada y salidas estandar del proceso que se le pase como argumento para
que actue como login del sistema. Este modulo necesito que corregiese un peque単o
bug para evitar que se cerraran dichas entrada y salidas estandar antes de que
el proceso se iniciara, al igual que la actualizacion de sus dependencias
[node-src-unistd](https://github.com/netlovers/node-src-unistd) y
[node-src-termios](https://github.com/netlovers/node-src-termios) para poder
funcionar en Node.js 0.11.

##### logon

El acceso al sistema es ofrecido por [logon](https://github.com/piranna/logon),
el cual no tiene una base de datos centralizada de los usuarios sino que la
informacion de estos esta almacenada en la cuenta de usuario de cada uno. Lo
dise単e de esta manera




#### nodeos

La funcionalidad del usuario *nodeos* es solamente servir de ejemplo de como
seria un usuario del sistema, aunque tambien incluye algunos comandos basicos y
utilidades de rendimiento para pruebas.
