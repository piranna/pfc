### NodeOS

Una vez generadas todas las capas de las que se compone NodeOS, el último paso
es recopilarlas y publicarlas, siguiendo el estilo de Node.js en el que toda la
funcionalidad esta implementada en otros subproyectos (en este caso, uno por
cada capa).

En el caso de QEmu, Docker y vagga, al usarse directamente cada una de las capas
se copian los productos generados por [barebones](2. barebones.html) e
[initramfs](3. initramfs.html) ya sean estos el kernel de Linux y la imagen de
*initram* o bien sean sistemas de ficheros empaquetados con `tar`, mientras que
en el caso de generarse imagenes ISO en [rootfs](4. rootfs.html) se copian estas,
aparte de la imagen de la partición de usuarios de [usersfs](5. usersfs.html) en
cualquiera de los dos casos.

Mas destacable es la fase de publicación, la cual se divide en dos partes:

* La primera consiste en empaquetar los productos generados en un archivo `zip`,
  al que tambien se le añade un script en shell para poder inicializarlo. Una
  vez descomprimido dicho script ejecutara QEmu junto con los archivos
  incorporados por lo que requiere saber el microprocesador a usar, para lo cual
  usamos el mismo sistema de plantilla empleado en *barebones* para la
  definición del archivo de configuración de `initram.cpio`.
* La segunda consiste en la publicación propiamente dicha, la cual se hace como
  releases en GitHub marcando con un *tag* la fecha y la rama desde la que se
  realizó en caso de ser distinta de *master* para identificarlas.

Todo esto es realizado de forma automatica por el servidor de integración
continua de [SemaphoreCI]() por cada `push` que genera dichas releases
satisfactoriamente. No obstante, algunas de las dependencias requieren el uso de
una versión de Node.js superior a la 0.12 (inclusive), por lo que al usarse por
defecto en *SemaphoreCI* la 0.10.34 es preciso ejecutar `nvm use 0.12.7`
previamente para indicar la versión correcta a usar.

Por último, los usuarios ademas tienen la posibilidad de grabar la imagen ISO
junto con la partición de usuarios en un pendrive autoarrancable donde los datos
permaneceran alojados en este mediante el uso de `bin/installUSB`, al igual que
pueden publicar el sistema en Docker ejecutando `npm run dockerBuild`. Sin
embargo, ninguno de estos dos procesos esta incluido en el proceso de
publicación por defecto puesto que requieren de permisos de administrador, por
lo que se ha dejado su ejecución de forma opcional.
