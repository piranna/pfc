## Especificación

La estructura de NodeOS se ha hecho centrandose en los conceptos de simplicidad,
seguridad, facil comprensión del sistema, eliminación de cualquier elemento
superfluo que no sea necesario para la ejecución de aplicaciones de Node.js y,
en su defecto, su sustitución por alternativas escritas en Javascript, en
algunos casos teniendo que implementarlas desde cero al no haber ninguna hecha
previamente como ha sido el caso de [century]() y [/usr/bin/env]().

### Diseño minimalista

El sistema esta diseñado para albergar unicamente los componentes indispensables
para poder ejecutar aplicaciones basadas en Node.js, y a partir de esta base
minima cada usuario puede instalar los modulos y aplicaciones que necesite,
creando un sistema operativo a su medida. De este modo no solo se reducen su
tamaño y complejidad al eliminar componentes no necesarios permitiendo que este
sistema basico pueda estar alojado en un disco RAM aumentando el rendimiento del
sistema, sino que ademas permite aislar el sistema base de las aplicaciones y
documentos de los usuarios y que sea muy sencillo el mover la instalación a otro
sistema o aislar los problemas debidos a malas configuraciones.

### Sistema de archivos por usuario

Una caracteristica unica de NodeOS que lo distingue de los demas sistemas
operativos es que cada usuario posee su propio sistema de archivos raiz
independiente y aislado del resto de usuarios, haciendo un sistema mas seguro al
no poder acceder a los archivos de los demas usuarios. Esto ademas permite que
los usuarios tengan una visión mas sencilla y flexible del sistema al ofrecer la
impresión de estar usando un sistema operativo mono-usuario (al estilo de
[MacOS Classic](https://es.wikipedia.org/wiki/Historia_de_Mac_OS) o
[Windows 9x](https://es.wikipedia.org/wiki/Windows_9x)) donde tienen capacidad
de modificar y configurarlo todo, sin riesgo de afectar al sistema o a los demas
usuarios ya que todos sus cambios quedan recluidos en su propio directorio de
usuario, haciendo que el sistema sea mas estable.

Esta impresión esta reforzada por el hecho de que cada usuario tiene su propio
sistema de archivos temporal (*tmpfs*) y que estos pueden acceder directamente
al sistema de archivos *procfs* y a los dispositivos del sistema (*devtmpfs*) de
forma similar a como podria hacer un usuario administrador en un sistema
operativo tradicional. No obstante, por seguridad y estabilidad dicho acceso
esta limitado de forma que en el sistema de archivos *procfs* solo se pueda
acceder a la información de los procesos del propio usuario, y de forma similar
solo se puede acceder a los dispositivos del sistema que no esten siendo usados
por otro usuario en esos momentos.

### Usuarios sin privilegios

En NodeOS no hay usuarios con permisos de administrador, siendo todos usuarios
normales. El superusuario *root* solo es necesario durante el proceso de
arranque para inicializar el sistema, montar la partición de los usuarios y
ejecutar servicios disponibles globalmente como [logon](), no habiendo en el
sistema ningun proceso ejecutandose con permisos de administrador para
disminir las posibilidades de que se pueda producir un escalado de privilegios.

Este sistema de seguridad puede plantear algunos problemas de administración
cuando se trata de recursos comunes a todos los usuarios o la ejecución de
acciones que afecten a todo el sistema, como son los puertos TCP o la necesidad
de hacer un apagado de la maquina. En el caso de los recursos comunes una de las
ideas barajadas es que estos puedan ser accesibles por cualquier usuario siempre
que no esten siendo usados del mismo modo a como se pretende hacer con los
dispositivos del sistema.

En el caso del apagado de la maquina se plantea un enfoque mas radical al no
implementarse dicho mecanismo haciendo que el comportamiento esperado sea que el
[sistema puede apagarse en cualquier momento](https://github.com/NodeOS/NodeOS/issues/71).
Esto obliga a los desarrolladores a que sean conscientes de este hecho de forma
que a la hora de diseñar sus programas tomen las medidas adecuadas para
garantizar de forma conveniente la integridad de sus datos (por ejemplo
diseñandolas sin estado o para que usen transacciones), lo cual ademas es acorde
a la filosofia original del sistema UNIX (del que derivan Linux o OSX) ya que
[no se hizo para ser apagado](http://www.tldp.org/LDP/intro-linux/html/sect_04_02.html#sect_04_02_06).
Ademas, de forma colateral esto repercute haciendo que dichas aplicaciones sean
mas resilientes incluso cuando se ejecuten sobre una instancia normal de Node.js
en un sistema operativo estandar.

### Simplicidad de uso

El uso de un lenguaje de alto nivel para desarrollar las aplicaciones permite
una mayor comprensión del sistema al no tener que preocuparse de aspectos de
bajo nivel como son las estructuras de datos o la aritmetica de punteros,
permitiendo a los desarrolladores centrarse en la tarea a realizar y aumentando
la confiabilidad del sistema. Al ser un lenguaje de script y estar disponible el
codigo fuente de las aplicaciones y librerias en todo momento, permite que sea
facil estudiar el comportamiento del sistema tanto por aprendizaje como para la
realizacion de auditorias de seguridad, simplemente leyendo el contenido del
archivo a inspeccionar en vez de tener que localizar primero su codigo fuente y
compilarlo. Ademas debido a que cada usuario tiene un sistema de archivos
aislado del resto en el que tiene control absoluto sobre todos los archivos,
tambien puede realizar modificaciones en el propio archivo *in situ*
independientemente del resto.

Por ultimo, se aboga por ofrecer una visión simplificada del sistema operativo
que facilite su uso y comprensión tanto por usuarios ocasionales o en un ambito
academico como por administradores de sistemas y desarrolladores expertos. Para
ello se han eliminado algunos directorios que se mantienen por compatibilidad o
para su uso en casos concretos en otros sistemas como `/opt`, `/sbin`, `/usr` o
`/usr/local` y que no son necesarios para ejecutar aplicaciones de Node.js,
presentando una jerarquia de archivos mas limpia y plana. Esta vision
simplificada del sistema de archivos tambien es propiciada por el uso del
sistema de archivos propio por cada usuario al no visualizar archivos de otros
usuarios.
